(function() {
  'use strict';
  angular.module('app.home', [
  ])
  .controller('homeCtrl', ['$rootScope', '$scope', 'Fullscreen', function($rootScope, $scope, Fullscreen) {
    $rootScope.menu = ""
    var ctrl = this

    ctrl.round = 1
    ctrl.timeStatus = "Start"
    ctrl.timerRunning = false;

    ctrl.timerToggle = function (){
      if (ctrl.timerRunning) {
        $scope.$broadcast('timer-stop');
        ctrl.timeStatus = "Resume"
      } else {
        $scope.$broadcast('timer-start');
        ctrl.timeStatus = "Stop"
      }
      ctrl.timerRunning = !ctrl.timerRunning;
    };

    ctrl.timerReset = function (){
      $scope.$broadcast('timer-reset');
    };
    
    ctrl.nextRound = function() {
      if (ctrl.round >= 0 && ctrl.round < 4) {
        ctrl.round += 1
      }
    }

    ctrl.prevRound = function() {
      if (ctrl.round > 1){
        ctrl.round -= 1
      }
    }

    ctrl.resetRound = function() {
      ctrl.round = 1
      ctrl.timerRunning = false
      ctrl.timeStatus = "Start"
    }

    ctrl.resetAll = function() {
      ctrl.scoreTeam1 = 0
      ctrl.scoreTeam2 = 0
      ctrl.round = 1
      ctrl.teamName1 = "SET TEAM NAME 1"
      ctrl.teamName2 = "SET TEAM NAME 2"
      ctrl.timeStatus = "Start"
      ctrl.timerRunning = false;

      ctrl.fouls1 = setDefaultFoul();
      ctrl.fouls2 = setDefaultFoul();
      ctrl.timerReset()
    }

    ctrl.fullscreen = function() {
      Fullscreen.all();
    }


  }]);
})();
